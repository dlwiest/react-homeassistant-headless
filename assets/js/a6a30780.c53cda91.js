"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[337],{3415:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>r,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"entities/lock","title":"Lock","description":"Control smart locks with lock, unlock, and open functionality.","source":"@site/docs/entities/lock.md","sourceDirName":"entities","slug":"/entities/lock","permalink":"/docs/entities/lock","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/entities/lock.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Camera","permalink":"/docs/entities/camera"},"next":{"title":"Cover","permalink":"/docs/entities/cover"}}');var c=o(4848),s=o(8453);const i={sidebar_position:4},l="Lock",r={},d=[{value:"Quick Example",id:"quick-example",level:2},{value:"Component API",id:"component-api",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Render Props",id:"render-props",level:3},{value:"State Properties",id:"state-properties",level:4},{value:"Support Properties",id:"support-properties",level:4},{value:"Control Methods",id:"control-methods",level:4},{value:"Entity Properties",id:"entity-properties",level:4},{value:"Hook API",id:"hook-api",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Examples",id:"examples",level:2},{value:"Simple Lock Control",id:"simple-lock-control",level:3},{value:"Lock with Code",id:"lock-with-code",level:3},{value:"Lock with Open Support",id:"lock-with-open-support",level:3},{value:"Multiple Locks",id:"multiple-locks",level:3},{value:"Lock Status Indicator",id:"lock-status-indicator",level:3},{value:"Auto-Lock Timer",id:"auto-lock-timer",level:3},{value:"Using Hooks",id:"using-hooks",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"lock",children:"Lock"})}),"\n",(0,c.jsx)(e.p,{children:"Control smart locks with lock, unlock, and open functionality."}),"\n",(0,c.jsx)(e.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"// Component approach\n<Lock entityId=\"lock.front_door\">\n  {({ isLocked, lock, unlock }) => (\n    <div>\n      <p>Front Door: {isLocked ? 'LOCKED' : 'UNLOCKED'}</p>\n      <button onClick={isLocked ? unlock : lock}>\n        {isLocked ? 'Unlock' : 'Lock'}\n      </button>\n    </div>\n  )}\n</Lock>\n\n// Hook approach\nconst frontLock = useLock('lock.front_door')\n<div>\n  <p>Front Door: {frontLock.isLocked ? 'LOCKED' : 'UNLOCKED'}</p>\n  <button onClick={frontLock.isLocked ? frontLock.unlock : frontLock.lock}>\n    {frontLock.isLocked ? 'Unlock' : 'Lock'}\n  </button>\n</div>\n"})}),"\n",(0,c.jsx)(e.h2,{id:"component-api",children:"Component API"}),"\n",(0,c.jsx)(e.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"import { Lock } from 'hass-react'\n\n<Lock entityId=\"lock.front_door\">\n  {(lockProps) => (\n    // Your UI here\n  )}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"render-props",children:"Render Props"}),"\n",(0,c.jsx)(e.p,{children:"The Lock component provides these props to your render function:"}),"\n",(0,c.jsx)(e.h4,{id:"state-properties",children:"State Properties"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"isLocked"})})," (",(0,c.jsx)(e.code,{children:"boolean"}),") - Whether the lock is currently locked"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"isUnlocked"})})," (",(0,c.jsx)(e.code,{children:"boolean"}),") - Whether the lock is currently unlocked"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"isUnknown"})})," (",(0,c.jsx)(e.code,{children:"boolean"}),") - Whether the lock state is unknown"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"changedBy"})})," (",(0,c.jsx)(e.code,{children:"string | undefined"}),") - Who last changed the lock state"]}),"\n"]}),"\n",(0,c.jsx)(e.h4,{id:"support-properties",children:"Support Properties"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"supportsOpen"})})," (",(0,c.jsx)(e.code,{children:"boolean"}),") - Lock supports open functionality (door latch)"]}),"\n"]}),"\n",(0,c.jsx)(e.h4,{id:"control-methods",children:"Control Methods"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"lock()"})})," - Lock the lock"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"unlock(code?: string)"})})," - Unlock the lock with optional code"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"open(code?: string)"})})," - Open the lock (if supported) with optional code"]}),"\n"]}),"\n",(0,c.jsx)(e.h4,{id:"entity-properties",children:"Entity Properties"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"entityId"})})," (",(0,c.jsx)(e.code,{children:"string"}),") - The entity ID"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"state"})})," (",(0,c.jsx)(e.code,{children:"string"}),") - Raw state value from Home Assistant"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"attributes"})})," (",(0,c.jsx)(e.code,{children:"object"}),") - All entity attributes"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"lastChanged"})})," (",(0,c.jsx)(e.code,{children:"Date"}),") - When the entity last changed"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:(0,c.jsx)(e.code,{children:"lastUpdated"})})," (",(0,c.jsx)(e.code,{children:"Date"}),") - When the entity was last updated"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"hook-api",children:"Hook API"}),"\n",(0,c.jsx)(e.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"import { useLock } from 'hass-react'\n\nfunction MyComponent() {\n  const lock = useLock('lock.front_door')\n  \n  // All the same properties as component render props\n  return <div>{lock.isLocked ? 'LOCKED' : 'UNLOCKED'}</div>\n}\n"})}),"\n",(0,c.jsxs)(e.p,{children:["The ",(0,c.jsx)(e.code,{children:"useLock"})," hook returns an object with all the same properties and methods as the component's render props."]}),"\n",(0,c.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,c.jsx)(e.h3,{id:"simple-lock-control",children:"Simple Lock Control"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"<Lock entityId=\"lock.front_door\">\n  {({ isLocked, isUnlocked, lock, unlock, attributes }) => (\n    <div>\n      <h3>{attributes.friendly_name}</h3>\n      <p>Status: {isLocked ? 'LOCKED' : isUnlocked ? 'UNLOCKED' : 'UNKNOWN'}</p>\n      \n      <button onClick={lock} disabled={isLocked}>\n        Lock\n      </button>\n      \n      <button onClick={unlock} disabled={isUnlocked}>\n        Unlock\n      </button>\n    </div>\n  )}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"lock-with-code",children:"Lock with Code"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"<Lock entityId=\"lock.smart_deadbolt\">\n  {({ isLocked, lock, unlock, attributes }) => {\n    const [code, setCode] = useState('')\n    \n    const handleUnlock = () => {\n      unlock(code)\n      setCode('')\n    }\n    \n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n        <p>Status: {isLocked ? 'LOCKED' : 'UNLOCKED'}</p>\n        \n        <button onClick={lock}>\n          Lock\n        </button>\n        \n        <div>\n          <input\n            type=\"password\"\n            placeholder=\"Enter code\"\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n          />\n          <button onClick={handleUnlock}>\n            Unlock\n          </button>\n        </div>\n      </div>\n    )\n  }}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"lock-with-open-support",children:"Lock with Open Support"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"<Lock entityId=\"lock.front_door\">\n  {({ isLocked, lock, unlock, open, supportsOpen, changedBy, attributes }) => (\n    <div>\n      <h3>{attributes.friendly_name}</h3>\n      <p>Status: {isLocked ? 'LOCKED' : 'UNLOCKED'}</p>\n      {changedBy && <p>Last changed by: {changedBy}</p>}\n      \n      <div>\n        <button onClick={lock} disabled={isLocked}>\n          Lock\n        </button>\n        \n        <button onClick={unlock} disabled={!isLocked}>\n          Unlock\n        </button>\n        \n        {supportsOpen && (\n          <button onClick={open}>\n            Open Door\n          </button>\n        )}\n      </div>\n    </div>\n  )}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"multiple-locks",children:"Multiple Locks"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"function LockPanel() {\n  const locks = [\n    'lock.front_door',\n    'lock.back_door',\n    'lock.garage_door'\n  ]\n  \n  return (\n    <div>\n      <h2>Lock Status</h2>\n      {locks.map(entityId => (\n        <Lock key={entityId} entityId={entityId}>\n          {({ isLocked, lock, unlock, attributes }) => (\n            <div>\n              <strong>{attributes.friendly_name}</strong>: {isLocked ? 'LOCKED' : 'UNLOCKED'}\n              <br />\n              <button onClick={isLocked ? unlock : lock}>\n                {isLocked ? 'Unlock' : 'Lock'}\n              </button>\n            </div>\n          )}\n        </Lock>\n      ))}\n    </div>\n  )\n}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"lock-status-indicator",children:"Lock Status Indicator"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"<Lock entityId=\"lock.front_door\">\n  {({ isLocked, isUnlocked, isUnknown, attributes, lastChanged }) => (\n    <div>\n      <h3>{attributes.friendly_name}</h3>\n      \n      <div>\n        Status: \n        {isLocked && <span style={{ color: 'green' }}> SECURED</span>}\n        {isUnlocked && <span style={{ color: 'orange' }}> UNLOCKED</span>}\n        {isUnknown && <span style={{ color: 'red' }}> UNKNOWN</span>}\n      </div>\n      \n      <p>Last changed: {lastChanged.toLocaleString()}</p>\n    </div>\n  )}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"auto-lock-timer",children:"Auto-Lock Timer"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"<Lock entityId=\"lock.front_door\">\n  {({ isLocked, lock, unlock, attributes }) => {\n    const [autoLockTimer, setAutoLockTimer] = useState<number | null>(null)\n    \n    const handleUnlock = () => {\n      unlock()\n      \n      // Auto-lock after 30 seconds\n      const timer = setTimeout(() => {\n        lock()\n        setAutoLockTimer(null)\n      }, 30000)\n      \n      setAutoLockTimer(timer)\n    }\n    \n    const handleLock = () => {\n      lock()\n      if (autoLockTimer) {\n        clearTimeout(autoLockTimer)\n        setAutoLockTimer(null)\n      }\n    }\n    \n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n        <p>Status: {isLocked ? 'LOCKED' : 'UNLOCKED'}</p>\n        {autoLockTimer && <p>Auto-lock in 30 seconds...</p>}\n        \n        <button onClick={handleLock} disabled={isLocked}>\n          Lock\n        </button>\n        \n        <button onClick={handleUnlock} disabled={!isLocked}>\n          Unlock (30s auto-lock)\n        </button>\n      </div>\n    )\n  }}\n</Lock>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"using-hooks",children:"Using Hooks"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"import { useLock } from 'hass-react'\n\nfunction LockCard({ entityId }) {\n  const lock = useLock(entityId)\n  \n  const getStatusColor = () => {\n    if (lock.isLocked) return 'green'\n    if (lock.isUnlocked) return 'orange'\n    return 'red'\n  }\n  \n  const getStatusText = () => {\n    if (lock.isLocked) return 'SECURED'\n    if (lock.isUnlocked) return 'UNLOCKED'\n    return 'UNKNOWN'\n  }\n  \n  return (\n    <div>\n      <h3>{lock.attributes.friendly_name}</h3>\n      \n      <div style={{ color: getStatusColor() }}>\n        Status: {getStatusText()}\n      </div>\n      \n      {lock.changedBy && <p>Changed by: {lock.changedBy}</p>}\n      \n      <div>\n        <button \n          onClick={lock.lock} \n          disabled={lock.isLocked}\n        >\n          Lock\n        </button>\n        \n        <button \n          onClick={lock.unlock} \n          disabled={lock.isUnlocked}\n        >\n          Unlock\n        </button>\n        \n        {lock.supportsOpen && (\n          <button onClick={lock.open}>\n            Open\n          </button>\n        )}\n      </div>\n      \n      <p>Last updated: {lock.lastUpdated.toLocaleTimeString()}</p>\n    </div>\n  )\n}\n"})})]})}function k(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>i,x:()=>l});var t=o(6540);const c={},s=t.createContext(c);function i(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);