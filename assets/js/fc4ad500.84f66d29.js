"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5310],{3845:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>v,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"entities/calendar","title":"Calendar","description":"View and manage Home Assistant calendar events with read, create, update, and delete operations.","source":"@site/docs/entities/calendar.md","sourceDirName":"entities","slug":"/entities/calendar","permalink":"/docs/entities/calendar","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/entities/calendar.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Media Player","permalink":"/docs/entities/media-player"},"next":{"title":"Todo","permalink":"/docs/entities/todo"}}');var a=t(4848),s=t(8453);const i={sidebar_position:8},l="Calendar",d={},o=[{value:"Quick Example",id:"quick-example",level:2},{value:"Component API",id:"component-api",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Render Props",id:"render-props",level:3},{value:"State Properties",id:"state-properties",level:4},{value:"Support Properties",id:"support-properties",level:4},{value:"Control Methods",id:"control-methods",level:4},{value:"Calendar Event Structure",id:"calendar-event-structure",level:4},{value:"Entity Properties",id:"entity-properties",level:4},{value:"Hook API",id:"hook-api",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Examples",id:"examples",level:2},{value:"Display Current Event",id:"display-current-event",level:3},{value:"List Upcoming Events",id:"list-upcoming-events",level:3},{value:"Create New Event",id:"create-new-event",level:3},{value:"Update and Delete Events",id:"update-and-delete-events",level:3},{value:"Full Calendar Manager",id:"full-calendar-manager",level:3},{value:"Using Hooks",id:"using-hooks",level:3},{value:"Notes",id:"notes",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"calendar",children:"Calendar"})}),"\n",(0,a.jsx)(n.p,{children:"View and manage Home Assistant calendar events with read, create, update, and delete operations."}),"\n",(0,a.jsx)(n.admonition,{title:"Home Assistant Limitation",type:"warning",children:(0,a.jsxs)(n.p,{children:["As of November 2025, Home Assistant does ",(0,a.jsx)(n.strong,{children:"not yet provide"})," ",(0,a.jsx)(n.code,{children:"calendar.delete_event"})," or ",(0,a.jsx)(n.code,{children:"calendar.update_event"})," services. Only ",(0,a.jsx)(n.code,{children:"calendar.create_event"})," and ",(0,a.jsx)(n.code,{children:"calendar.get_events"})," are currently available. The ",(0,a.jsx)(n.code,{children:"deleteEvent"})," and ",(0,a.jsx)(n.code,{children:"updateEvent"})," methods are implemented according to the planned API structure and will work once Home Assistant adds these services. Until then, events can only be created and read, not modified or deleted through the API."]})}),"\n",(0,a.jsx)(n.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Component approach\n<Calendar entityId=\"calendar.personal\">\n  {({ hasActiveEvent, currentEvent, startTime, endTime, getEvents, createEvent }) => (\n    <div>\n      <h3>Personal Calendar</h3>\n      {hasActiveEvent && currentEvent && (\n        <div>\n          <p>Current Event: {currentEvent.summary}</p>\n          {startTime && <p>Started: {new Date(startTime).toLocaleString()}</p>}\n          {endTime && <p>Ends: {new Date(endTime).toLocaleString()}</p>}\n        </div>\n      )}\n      <button onClick={async () => {\n        const events = await getEvents(\n          new Date().toISOString(),\n          new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()\n        )\n        console.log('Upcoming events:', events)\n      }}>\n        Load Events\n      </button>\n    </div>\n  )}\n</Calendar>\n\n// Hook approach\nconst calendar = useCalendar('calendar.personal')\n<div>\n  <h3>Personal Calendar</h3>\n  {calendar.hasActiveEvent && calendar.currentEvent && (\n    <div>\n      <p>Current Event: {calendar.currentEvent.summary}</p>\n      {calendar.startTime && <p>Started: {new Date(calendar.startTime).toLocaleString()}</p>}\n      {calendar.endTime && <p>Ends: {new Date(calendar.endTime).toLocaleString()}</p>}\n    </div>\n  )}\n</div>\n"})}),"\n",(0,a.jsx)(n.h2,{id:"component-api",children:"Component API"}),"\n",(0,a.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { Calendar } from 'hass-react'\n\n<Calendar entityId=\"calendar.personal\">\n  {(calendarProps) => (\n    // Your UI here\n  )}\n</Calendar>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"render-props",children:"Render Props"}),"\n",(0,a.jsx)(n.p,{children:"The Calendar component provides these props to your render function:"}),"\n",(0,a.jsx)(n.h4,{id:"state-properties",children:"State Properties"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"hasActiveEvent"})})," (",(0,a.jsx)(n.code,{children:"boolean"}),") - Whether there's a current or upcoming event"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"currentEvent"})})," (",(0,a.jsx)(n.code,{children:"CalendarEvent | null"}),") - The current or next event"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"message"})})," (",(0,a.jsx)(n.code,{children:"string | null"}),") - Event summary/title (shorthand for currentEvent.summary)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"startTime"})})," (",(0,a.jsx)(n.code,{children:"string | null"}),") - Event start time in ISO 8601 format"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"endTime"})})," (",(0,a.jsx)(n.code,{children:"string | null"}),") - Event end time in ISO 8601 format"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"location"})})," (",(0,a.jsx)(n.code,{children:"string | null"}),") - Event location"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"description"})})," (",(0,a.jsx)(n.code,{children:"string | null"}),") - Event description"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"isAllDay"})})," (",(0,a.jsx)(n.code,{children:"boolean"}),") - Whether the current event is all-day"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"support-properties",children:"Support Properties"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"supportsCreate"})})," (",(0,a.jsx)(n.code,{children:"boolean"}),") - Calendar supports creating events"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"supportsUpdate"})})," (",(0,a.jsx)(n.code,{children:"boolean"}),") - Calendar supports updating events"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"supportsDelete"})})," (",(0,a.jsx)(n.code,{children:"boolean"}),") - Calendar supports deleting events"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"control-methods",children:"Control Methods"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"getEvents(start: string, end: string): Promise<CalendarEvent[]>"})})," - Fetch events in date range (ISO 8601 format)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"createEvent(event: Omit<CalendarEvent, 'uid'>): Promise<void>"})})," - Create a new calendar event"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"updateEvent(uid: string, event: Partial<CalendarEvent>, recurrenceRange?: 'THIS_AND_FUTURE' | 'THIS' | 'ALL'): Promise<void>"})})," - Update an existing event"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"deleteEvent(uid: string, recurrenceRange?: 'THIS_AND_FUTURE' | 'THIS' | 'ALL'): Promise<void>"})})," - Delete an event"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"calendar-event-structure",children:"Calendar Event Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"interface CalendarEvent {\n  start: string           // Start time (ISO 8601 datetime or date)\n  end: string             // End time (ISO 8601 datetime or date)\n  summary: string         // Event title/summary\n  uid?: string            // Unique identifier\n  description?: string    // Detailed description\n  location?: string       // Event location\n  rrule?: string         // Recurrence rule (RFC 5545)\n}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"entity-properties",children:"Entity Properties"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"entityId"})})," (",(0,a.jsx)(n.code,{children:"string"}),") - The entity ID"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"state"})})," (",(0,a.jsx)(n.code,{children:"string"}),") - Raw state value ('on' for active event, 'off' otherwise)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"attributes"})})," (",(0,a.jsx)(n.code,{children:"object"}),") - All entity attributes"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"lastChanged"})})," (",(0,a.jsx)(n.code,{children:"Date"}),") - When the entity last changed"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"lastUpdated"})})," (",(0,a.jsx)(n.code,{children:"Date"}),") - When the entity was last updated"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"hook-api",children:"Hook API"}),"\n",(0,a.jsx)(n.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { useCalendar } from 'hass-react'\n\nfunction MyComponent() {\n  const calendar = useCalendar('calendar.personal')\n\n  // All the same properties as component render props\n  return <div>{calendar.hasActiveEvent ? 'Event in progress' : 'No event'}</div>\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"useCalendar"})," hook returns an object with all the same properties and methods as the component's render props."]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.h3,{id:"display-current-event",children:"Display Current Event"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'<Calendar entityId="calendar.work">\n  {({ hasActiveEvent, currentEvent, startTime, endTime, location, attributes }) => (\n    <div>\n      <h3>{attributes.friendly_name}</h3>\n\n      {hasActiveEvent && currentEvent ? (\n        <div>\n          <h4>{currentEvent.summary}</h4>\n          {startTime && <p>Start: {new Date(startTime).toLocaleString()}</p>}\n          {endTime && <p>End: {new Date(endTime).toLocaleString()}</p>}\n          {location && <p>Location: {location}</p>}\n          {currentEvent.description && <p>{currentEvent.description}</p>}\n        </div>\n      ) : (\n        <p>No upcoming events</p>\n      )}\n    </div>\n  )}\n</Calendar>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"list-upcoming-events",children:"List Upcoming Events"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'<Calendar entityId="calendar.personal">\n  {({ getEvents, attributes }) => {\n    const [events, setEvents] = useState<CalendarEvent[]>([])\n\n    useEffect(() => {\n      const fetchEvents = async () => {\n        const start = new Date().toISOString()\n        const end = new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString()\n        const upcomingEvents = await getEvents(start, end)\n        setEvents(upcomingEvents)\n      }\n      fetchEvents()\n    }, [getEvents])\n\n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n        <h4>Next 14 Days</h4>\n\n        {events.length === 0 ? (\n          <p>No upcoming events</p>\n        ) : (\n          <ul>\n            {events.map((event, index) => (\n              <li key={index}>\n                <strong>{event.summary}</strong>\n                <p>{new Date(event.start).toLocaleString()}</p>\n                {event.location && <p>\ud83d\udccd {event.location}</p>}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    )\n  }}\n</Calendar>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"create-new-event",children:"Create New Event"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"<Calendar entityId=\"calendar.personal\">\n  {({ createEvent, supportsCreate, attributes }) => {\n    const [summary, setSummary] = useState('')\n    const [startDateTime, setStartDateTime] = useState('')\n    const [endDateTime, setEndDateTime] = useState('')\n\n    const handleCreate = async () => {\n      if (!summary || !startDateTime || !endDateTime) {\n        alert('Please fill in all fields')\n        return\n      }\n\n      try {\n        await createEvent({\n          summary,\n          start: startDateTime + ':00',  // Add seconds\n          end: endDateTime + ':00'\n        })\n\n        // Clear form\n        setSummary('')\n        setStartDateTime('')\n        setEndDateTime('')\n\n        alert('Event created successfully!')\n      } catch (error) {\n        alert(`Failed to create event: ${error}`)\n      }\n    }\n\n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n\n        {supportsCreate ? (\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Event title\"\n              value={summary}\n              onChange={(e) => setSummary(e.target.value)}\n            />\n            <input\n              type=\"datetime-local\"\n              value={startDateTime}\n              onChange={(e) => setStartDateTime(e.target.value)}\n            />\n            <input\n              type=\"datetime-local\"\n              value={endDateTime}\n              onChange={(e) => setEndDateTime(e.target.value)}\n            />\n            <button onClick={handleCreate}>Create Event</button>\n          </div>\n        ) : (\n          <p>This calendar does not support creating events</p>\n        )}\n      </div>\n    )\n  }}\n</Calendar>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"update-and-delete-events",children:"Update and Delete Events"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"<Calendar entityId=\"calendar.family\">\n  {({ getEvents, updateEvent, deleteEvent, supportsUpdate, supportsDelete, attributes }) => {\n    const [events, setEvents] = useState<CalendarEvent[]>([])\n\n    const loadEvents = useCallback(async () => {\n      const start = new Date().toISOString()\n      const end = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\n      const fetchedEvents = await getEvents(start, end)\n      setEvents(fetchedEvents)\n    }, [getEvents])\n\n    useEffect(() => {\n      loadEvents()\n    }, [loadEvents])\n\n    const handleUpdateEvent = async (uid: string, newSummary: string) => {\n      try {\n        await updateEvent(uid, { summary: newSummary })\n        await loadEvents()\n      } catch (error) {\n        alert(`Failed to update event: ${error}`)\n      }\n    }\n\n    const handleDeleteEvent = async (uid: string) => {\n      if (confirm('Delete this event?')) {\n        try {\n          await deleteEvent(uid)\n          await loadEvents()\n        } catch (error) {\n          alert(`Failed to delete event: ${error}`)\n        }\n      }\n    }\n\n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n\n        {events.length === 0 ? (\n          <p>No upcoming events</p>\n        ) : (\n          <ul>\n            {events.map((event, index) => (\n              <li key={index}>\n                <strong>{event.summary}</strong>\n                <p>{new Date(event.start).toLocaleString()}</p>\n                {event.location && <p>\ud83d\udccd {event.location}</p>}\n\n                {supportsUpdate && event.uid && (\n                  <button onClick={() => {\n                    const newSummary = prompt('New title:', event.summary)\n                    if (newSummary) handleUpdateEvent(event.uid!, newSummary)\n                  }}>\n                    Edit\n                  </button>\n                )}\n\n                {supportsDelete && event.uid && (\n                  <button onClick={() => handleDeleteEvent(event.uid!)}>\n                    Delete\n                  </button>\n                )}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    )\n  }}\n</Calendar>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"full-calendar-manager",children:"Full Calendar Manager"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"<Calendar entityId=\"calendar.family\">\n  {({\n    hasActiveEvent,\n    currentEvent,\n    startTime,\n    getEvents,\n    createEvent,\n    deleteEvent,\n    supportsCreate,\n    supportsDelete,\n    attributes\n  }) => {\n    const [events, setEvents] = useState<CalendarEvent[]>([])\n    const [showCreateForm, setShowCreateForm] = useState(false)\n    const [newEvent, setNewEvent] = useState({\n      summary: '',\n      start: '',\n      end: '',\n      location: '',\n      description: ''\n    })\n\n    const loadEvents = useCallback(async () => {\n      const start = new Date().toISOString()\n      const end = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\n      const fetchedEvents = await getEvents(start, end)\n      setEvents(fetchedEvents)\n    }, [getEvents])\n\n    useEffect(() => {\n      loadEvents()\n    }, [loadEvents])\n\n    const handleCreateEvent = async () => {\n      if (!newEvent.summary || !newEvent.start || !newEvent.end) {\n        alert('Please fill in required fields')\n        return\n      }\n\n      try {\n        await createEvent({\n          summary: newEvent.summary,\n          start: newEvent.start + ':00',\n          end: newEvent.end + ':00',\n          location: newEvent.location || undefined,\n          description: newEvent.description || undefined\n        })\n\n        setNewEvent({ summary: '', start: '', end: '', location: '', description: '' })\n        setShowCreateForm(false)\n        await loadEvents()\n      } catch (error) {\n        alert(`Failed to create event: ${error}`)\n      }\n    }\n\n    const handleDeleteEvent = async (uid: string) => {\n      if (confirm('Delete this event?')) {\n        try {\n          await deleteEvent(uid)\n          await loadEvents()\n        } catch (error) {\n          alert(`Failed to delete event: ${error}`)\n        }\n      }\n    }\n\n    return (\n      <div>\n        <h3>{attributes.friendly_name}</h3>\n\n        {/* Current Event */}\n        {hasActiveEvent && currentEvent && (\n          <div className=\"current-event\">\n            <h4>Current/Next Event</h4>\n            <p><strong>{currentEvent.summary}</strong></p>\n            {startTime && <p>Start: {new Date(startTime).toLocaleString()}</p>}\n          </div>\n        )}\n\n        {/* Create Event Form */}\n        {supportsCreate && (\n          <div>\n            {!showCreateForm ? (\n              <button onClick={() => setShowCreateForm(true)}>\n                + Create Event\n              </button>\n            ) : (\n              <div className=\"create-form\">\n                <h4>New Event</h4>\n                <input\n                  type=\"text\"\n                  placeholder=\"Event title *\"\n                  value={newEvent.summary}\n                  onChange={(e) => setNewEvent({ ...newEvent, summary: e.target.value })}\n                />\n                <input\n                  type=\"datetime-local\"\n                  value={newEvent.start}\n                  onChange={(e) => setNewEvent({ ...newEvent, start: e.target.value })}\n                />\n                <input\n                  type=\"datetime-local\"\n                  value={newEvent.end}\n                  onChange={(e) => setNewEvent({ ...newEvent, end: e.target.value })}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Location (optional)\"\n                  value={newEvent.location}\n                  onChange={(e) => setNewEvent({ ...newEvent, location: e.target.value })}\n                />\n                <textarea\n                  placeholder=\"Description (optional)\"\n                  value={newEvent.description}\n                  onChange={(e) => setNewEvent({ ...newEvent, description: e.target.value })}\n                />\n                <button onClick={handleCreateEvent}>Create</button>\n                <button onClick={() => {\n                  setShowCreateForm(false)\n                  setNewEvent({ summary: '', start: '', end: '', location: '', description: '' })\n                }}>\n                  Cancel\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Event List */}\n        <div>\n          <h4>Upcoming Events</h4>\n          {events.length === 0 ? (\n            <p>No upcoming events</p>\n          ) : (\n            <ul>\n              {events.map((event, index) => (\n                <li key={index}>\n                  <p><strong>{event.summary}</strong></p>\n                  <p>{new Date(event.start).toLocaleString()}</p>\n                  {event.location && <p>\ud83d\udccd {event.location}</p>}\n                  {event.description && <p>{event.description}</p>}\n                  {supportsDelete && event.uid && (\n                    <button onClick={() => handleDeleteEvent(event.uid!)}>\n                      Delete\n                    </button>\n                  )}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    )\n  }}\n</Calendar>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"using-hooks",children:"Using Hooks"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { useCalendar } from 'hass-react'\n\nfunction CalendarWidget({ entityId }) {\n  const calendar = useCalendar(entityId)\n  const [upcomingEvents, setUpcomingEvents] = useState<CalendarEvent[]>([])\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const start = new Date().toISOString()\n        const end = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()\n        const events = await calendar.getEvents(start, end)\n        setUpcomingEvents(events.slice(0, 5))\n      } catch (error) {\n        console.error('Failed to fetch events:', error)\n      }\n    }\n\n    fetchEvents()\n  }, [calendar.getEvents])\n\n  return (\n    <div>\n      <h3>{calendar.attributes.friendly_name}</h3>\n\n      {/* Current Event */}\n      {calendar.hasActiveEvent && calendar.currentEvent && (\n        <div className=\"current-event\">\n          <h4>Now</h4>\n          <p><strong>{calendar.currentEvent.summary}</strong></p>\n          {calendar.startTime && (\n            <p>Started: {new Date(calendar.startTime).toLocaleTimeString()}</p>\n          )}\n          {calendar.endTime && (\n            <p>Until: {new Date(calendar.endTime).toLocaleTimeString()}</p>\n          )}\n          {calendar.location && <p>\ud83d\udccd {calendar.location}</p>}\n        </div>\n      )}\n\n      {/* Upcoming Events */}\n      <div>\n        <h4>Coming Up</h4>\n        {upcomingEvents.length === 0 ? (\n          <p>No events this week</p>\n        ) : (\n          <ul>\n            {upcomingEvents.map((event, index) => (\n              <li key={index}>\n                <strong>{event.summary}</strong>\n                <p>\n                  {new Date(event.start).toLocaleDateString()} at{' '}\n                  {new Date(event.start).toLocaleTimeString()}\n                </p>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n\n      {/* Capabilities */}\n      <p>\n        <small>\n          Capabilities:\n          {calendar.supportsCreate && ' Create'}\n          {calendar.supportsUpdate && ' Update'}\n          {calendar.supportsDelete && ' Delete'}\n        </small>\n      </p>\n\n      <p>\n        <small>Last updated: {calendar.lastUpdated.toLocaleTimeString()}</small>\n      </p>\n    </div>\n  )\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["All datetime values must be in ISO 8601 format (e.g., ",(0,a.jsx)(n.code,{children:"2024-01-15T10:00:00"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:["For all-day events, use date format (e.g., ",(0,a.jsx)(n.code,{children:"2024-01-15"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:["When using ",(0,a.jsx)(n.code,{children:"datetime-local"})," inputs, append ",(0,a.jsx)(n.code,{children:":00"})," for seconds (e.g., ",(0,a.jsx)(n.code,{children:"value + ':00'"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:["The ",(0,a.jsx)(n.code,{children:"getEvents"})," method requires ",(0,a.jsx)(n.code,{children:"start"})," and ",(0,a.jsx)(n.code,{children:"end"})," parameters in ISO 8601 format"]}),"\n",(0,a.jsx)(n.li,{children:"Not all calendars support create, update, or delete operations - check the support properties"}),"\n",(0,a.jsxs)(n.li,{children:["Recurring events use the ",(0,a.jsx)(n.code,{children:"rrule"})," property following RFC 5545 format"]}),"\n",(0,a.jsxs)(n.li,{children:["When updating or deleting recurring events, use ",(0,a.jsx)(n.code,{children:"recurrenceRange"})," to specify the scope:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'THIS'"})," - Only this occurrence"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'THIS_AND_FUTURE'"})," - This and all future occurrences"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'ALL'"})," - All occurrences"]}),"\n"]}),"\n"]}),"\n"]})]})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var r=t(6540);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);