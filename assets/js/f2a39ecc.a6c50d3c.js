"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3647],{3205:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"entities/datetime","title":"DateTime","description":"Access Home Assistant server time as a JavaScript Date object.","source":"@site/docs/entities/datetime.md","sourceDirName":"entities","slug":"/entities/datetime","permalink":"/docs/entities/datetime","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/entities/datetime.md","tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18},"sidebar":"tutorialSidebar","previous":{"title":"Number","permalink":"/docs/entities/number"},"next":{"title":"Alarm Control Panel","permalink":"/docs/entities/alarm-control-panel"}}');var s=i(4848),r=i(8453);const a={sidebar_position:18},o="DateTime",l={},d=[{value:"Setup Required",id:"setup-required",level:2},{value:"Quick Example",id:"quick-example",level:2},{value:"Why Use Server Time?",id:"why-use-server-time",level:2},{value:"Component API",id:"component-api",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Render Props",id:"render-props",level:3},{value:"DateTime Properties",id:"datetime-properties",level:4},{value:"Entity Properties",id:"entity-properties",level:4},{value:"Hook API",id:"hook-api",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Examples",id:"examples",level:2},{value:"Basic Display",id:"basic-display",level:3},{value:"Coordinating with Automations",id:"coordinating-with-automations",level:3},{value:"Comparing with Entity State Changes",id:"comparing-with-entity-state-changes",level:3},{value:"Using with date-fns or dayjs",id:"using-with-date-fns-or-dayjs",level:3},{value:"Notes",id:"notes",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"datetime",children:"DateTime"})}),"\n",(0,s.jsx)(n.p,{children:"Access Home Assistant server time as a JavaScript Date object."}),"\n",(0,s.jsx)(n.h2,{id:"setup-required",children:"Setup Required"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Before using this component"}),", you must enable the Time & Date sensor in Home Assistant:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Devices & Services"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Integrations"})]}),"\n",(0,s.jsxs)(n.li,{children:["Find ",(0,s.jsx)(n.strong,{children:"Time & Date"})," integration (or add it if not present)"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add Service"})]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Date & Time (ISO)"})," as the sensor type"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Submit"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This creates the ",(0,s.jsx)(n.code,{children:"sensor.date_time_iso"})," entity that this component uses."]}),"\n",(0,s.jsx)(n.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// Component approach\n<DateTime>\n  {({ date }) => (\n    <div>Server Time: {date?.toLocaleString()}</div>\n  )}\n</DateTime>\n\n// Hook approach\nconst { date, isAvailable } = useDateTime()\n<div>Server Time: {date?.toLocaleString()}</div>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"why-use-server-time",children:"Why Use Server Time?"}),"\n",(0,s.jsx)(n.p,{children:"Using the Home Assistant server's time instead of client time ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consistency"})," - Matches the time used by HA automations and schedules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timezone Accuracy"})," - Respects your HA server's configured timezone"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Synchronization"})," - Perfect for coordinating with HA events and automations"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"component-api",children:"Component API"}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { DateTime } from 'hass-react'\n\n<DateTime>\n  {(datetime) => (\n    // Your UI here\n  )}\n</DateTime>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"render-props",children:"Render Props"}),"\n",(0,s.jsx)(n.h4,{id:"datetime-properties",children:"DateTime Properties"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"date"})})," (",(0,s.jsx)(n.code,{children:"Date | null"}),") - JavaScript Date object representing HA server time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"isAvailable"})})," (",(0,s.jsx)(n.code,{children:"boolean"}),") - Whether the time sensor is available"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"entity-properties",children:"Entity Properties"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"entityId"})})," (",(0,s.jsx)(n.code,{children:"string"}),") - The entity ID (",(0,s.jsx)(n.code,{children:"sensor.date_time_iso"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"state"})})," (",(0,s.jsx)(n.code,{children:"string"}),") - Raw ISO 8601 date string from Home Assistant"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"attributes"})})," (",(0,s.jsx)(n.code,{children:"object"}),") - All entity attributes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"lastChanged"})})," (",(0,s.jsx)(n.code,{children:"Date"}),") - When the entity last changed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"lastUpdated"})})," (",(0,s.jsx)(n.code,{children:"Date"}),") - When the entity was last updated"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hook-api",children:"Hook API"}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useDateTime } from 'hass-react'\n\nfunction MyComponent() {\n  const { date, isAvailable } = useDateTime()\n\n  return <div>{date?.toLocaleTimeString()}</div>\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-display",children:"Basic Display"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"<DateTime>\n  {({ date, isAvailable }) => {\n    if (!isAvailable) return <div>Time unavailable</div>\n    if (!date) return <div>Loading...</div>\n\n    return (\n      <div>\n        <h3>Server Time</h3>\n        <p>{date.toLocaleString()}</p>\n      </div>\n    )\n  }}\n</DateTime>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"coordinating-with-automations",children:"Coordinating with Automations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useDateTime } from 'hass-react'\n\nfunction AutomationStatus() {\n  const { date } = useDateTime()\n\n  if (!date) return null\n\n  // Check if we're within automation schedule\n  const hour = date.getHours()\n  const isNightMode = hour >= 22 || hour < 6\n\n  return (\n    <div>\n      <p>Current Mode: {isNightMode ? 'Night' : 'Day'}</p>\n      <small>Matches automation schedule</small>\n    </div>\n  )\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"comparing-with-entity-state-changes",children:"Comparing with Entity State Changes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useDateTime, useLight } from 'hass-react'\n\nfunction LightLastChanged() {\n  const { date: serverTime } = useDateTime()\n  const light = useLight('light.living_room')\n\n  if (!serverTime) return null\n\n  const timeSinceChange = serverTime.getTime() - light.lastChanged.getTime()\n  const minutesAgo = Math.floor(timeSinceChange / 60000)\n\n  return (\n    <div>\n      <p>Light turned {light.isOn ? 'on' : 'off'} {minutesAgo} minutes ago</p>\n      <small>Server time: {serverTime.toLocaleTimeString()}</small>\n    </div>\n  )\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"using-with-date-fns-or-dayjs",children:"Using with date-fns or dayjs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { format } from 'date-fns'\n\n<DateTime>\n  {({ date }) => date && (\n    <div>HA Server: {format(date, 'PPpp')}</div>\n  )}\n</DateTime>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Uses the ",(0,s.jsx)(n.code,{children:"sensor.date_time_iso"})," entity (requires setup - see above)"]}),"\n",(0,s.jsx)(n.li,{children:"Updates every minute via WebSocket"}),"\n",(0,s.jsxs)(n.li,{children:["Returns ",(0,s.jsx)(n.code,{children:"null"})," when sensor is unavailable"]}),"\n",(0,s.jsx)(n.li,{children:"Logs a helpful warning to console if sensor is not configured"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);